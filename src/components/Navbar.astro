---
import { cn } from "@/lib/utils";
import { Image } from "astro:assets";
import logo from "../assets/logopng.png";

const links = [
    { href: "#home", label: "Home" },
    { href: "#produk-features", label: "Fitur" },
    { href: "#product-highlight", label: "Produk" },
    { href: "#story", label: "Tentang" },
    { href: "#galeri", label: "Galeri" },
    { href: "#kontak", label: "Kontak" },
];
---

<nav class="glass-nav">
    <div class="w-full mx-auto px-4 sm:px-6 lg:px-12">
        <div class="flex justify-between items-center h-20">
            <!-- Logo -->
            <a
                href="/"
                class="flex-shrink-0 flex items-center gap-2 cursor-pointer"
                onclick="window.scrollTo(0,0)"
            >
                <Image src={logo} alt="Mocafie Logo" class="h-20 w-auto" />
            </a>

            <!-- Desktop Menu -->
            <div class="hidden md:flex space-x-8 items-center">
                {
                    links.map((link) => (
                        <a
                            href={link.href}
                            class="text-sm font-bold text-slate-700 hover:text-primary active:text-primary-dark transition-colors relative group py-2"
                        >
                            {link.label}
                            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full" />
                        </a>
                    ))
                }
            </div>

            <!-- CTA Button -->
            <div class="hidden md:flex">
                <button
                    class="bg-primary hover:bg-primary-dark active:bg-primary-dark/90 text-white px-6 py-2.5 rounded-full text-sm font-bold shadow-lg shadow-primary/20 transition-all transform hover:-translate-y-1 hover:shadow-xl hover:shadow-primary/30 flex items-center gap-2 cursor-pointer"
                >
                    <span class="material-icons-round text-sm"
                        >shopping_bag</span
                    >
                    Belanja
                </button>
            </div>

            <!-- Mobile Menu Button -->
            <div class="md:hidden flex items-center">
                <button
                    id="mobile-menu-btn"
                    class="text-slate-600 hover:text-primary active:text-primary-dark p-2 rounded-full hover:bg-slate-100 transition-colors"
                >
                    <span class="material-icons-round text-2xl">menu</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu Dropdown -->
    <div
        id="mobile-menu"
        class="hidden md:hidden bg-white border-t border-slate-100 absolute w-full left-0 top-20 shadow-lg"
    >
        <div class="px-4 pt-2 pb-6 space-y-1">
            {
                links.map((link) => (
                    <a
                        href={link.href}
                        class="block px-3 py-3 rounded-md text-base font-medium text-slate-700 hover:text-primary hover:bg-slate-50 transition-colors"
                    >
                        {link.label}
                    </a>
                ))
            }
            <button
                class="w-full mt-4 bg-primary text-white px-6 py-3 rounded-xl text-sm font-bold shadow-lg shadow-primary/20 flex items-center justify-center gap-2"
            >
                <span class="material-icons-round text-sm">shopping_bag</span>
                Belanja
            </button>
        </div>
    </div>
</nav>

<script>
    const btn = document.getElementById("mobile-menu-btn");
    const menu = document.getElementById("mobile-menu");

    if (btn && menu) {
        btn.addEventListener("click", () => {
            menu.classList.toggle("hidden");
            const icon = btn.querySelector(".material-icons-round");
            if (icon) {
                icon.textContent = menu.classList.contains("hidden")
                    ? "menu"
                    : "close";
            }
        });
    }
</script>
